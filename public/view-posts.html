<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>All Harvest Posts</title>
  <style>

    :root{
  --bg:#f4f6f8;
  --text:#333333;
  --container:#ffffff;
  --post:#f9f9f9;
  --heading:#2c3e50;
  --muted-text:#999999;
  --border:#cccccc;
  --input-bg:#ffffff;

  --weather-bg:#e0f7fa;
  --weather-accent:#00796b;

  --shadow:0 4px 12px rgba(0,0,0,0.1);
  --radius:15px;

  --btn-green:#4caf50; /* keep brand */
  --btn-red:#e60e0e;   /* keep brand */
  --link:#00796b;      /* links & accent text */
}

/* üåô Dark theme overrides */
:root[data-theme="dark"]{
  --bg:#0f1216;
  --text:#e3e7ea;
  --container:#161b20;
  --post:#1e242b;
  --heading:#d7dde4;
  --muted-text:#9aa4af;
  --border:#2a2f37;
  --input-bg:#0f141a;

  --weather-bg:#12232b;
  --weather-accent:#70e1ff;

  --shadow:0 4px 14px rgba(0,0,0,0.6);

  --btn-green:#4caf50; /* unchanged brand */
  --btn-red:#bc0808;   /* unchanged brand */
  --link:#4dd0e1;
}

/* base transition for smooth theme swap */
*{
  box-sizing:border-box;
  -webkit-tap-highlight-color:transparent;
  font-family:'Poppins', sans-serif;
  transition: background-color .25s ease, color .25s ease, border-color .25s ease, box-shadow .25s ease;
}

body {
  background-color: var(--bg);
  color: var(--text);
  margin: 0;
  padding: 20px;
}

.container {
  max-width: 800px;
  margin: auto;
  background-color: var(--container);
  padding: 20px;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

.header-bar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  flex-wrap:wrap;
  gap:10px;
  margin-bottom:20px;
}

/* place theme icon at top right corner inside the container */
.theme-toggle {
  position: absolute;
  top: 20px;
  right: 25px;
  width: 38px;
  height: 38px;
  border: 0;
  border-radius: 50%;
  display: grid;
  place-items: center;
  font-size: 20px;
  cursor: pointer;
  background: var(--link);
  color: #fff;
  box-shadow: var(--shadow);
  transition: transform .12s ease, opacity .2s ease, background-color .25s ease;
  z-index: 10;
}
.theme-toggle:hover { opacity: .9; }
.theme-toggle:active { transform: scale(.95); }
:root[data-theme="dark"] .theme-toggle { background: #2b5445; }

/* make header-bar relative so absolute positioning works */
.header-bar {
  position: relative;
}



.user-info {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: flex-end;
  gap: 8px;
}

#headerUsername {
  font-weight: bold;
  font-size: 14px;
  color: var(--link);
}

h2 {
  margin: 0;
  font-size: 24px;
  color: var(--heading);
}

.logout-btn,
.message-btn {
  border: none;
  padding: 8px 16px;
  border-radius: 6px;
  font-weight: bold;
  font-size: 14px;
  cursor: pointer;
  color: #fff;
}

.logout-btn { background-color: var(--btn-red); }
.message-btn { background-color: var(--btn-green); }

#searchInput {
  width: 100%;
  max-width: 360px;
  display: block;
  margin: 0 auto 20px auto;
  padding: 10px;
  border-radius: 8px;
  border: 1px solid var(--border);
  font-size: 15px;
  background-color: var(--input-bg);
  color: var(--text);
  outline: none;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
}

.weather-box {
  background-color: var(--weather-bg);
  padding: 14px 18px;
  border-radius: 10px;
  margin-bottom: 20px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.weather-box h4 {
  margin: 0 0 6px;
  font-size: 16px;
  color: var(--weather-accent);
}

.weather-box p {
  margin: 3px 0;
  font-size: 14px;
}

.weather-header { text-align: center; margin: 8px 0; }

.weather-temp {
  font-size: 26px;
  font-weight: bold;
  color: #2563eb; /* blue for light */
}
:root[data-theme="dark"] .weather-temp { color:#8ab4ff; }

.weather-stats {
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  margin-top: 6px;
  font-size: 14px;
}

.weather-stats div {
  flex: 1 1 30%;   /* 3 items in one row */
  text-align: center;
}

.post {
  background-color: var(--post);
  margin-bottom: 20px;
  padding: 15px;
  border-radius: 12px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
  cursor: pointer;
}

.image-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 10px;
}

.image-grid img {
  width: 90px;
  height: 90px;
  object-fit: cover;
  border-radius: 8px;
  position: relative;
}

.image-wrapper { position: relative; }

.more-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 90px;
  height: 90px;
  background-color: rgba(0, 0, 0, 0.6);
  color: white;
  font-weight: bold;
  font-size: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
}

.post-details { padding-left: 5px; }

.post-details h3 {
  margin: 0 0 5px;
  font-size: 18px;
  color: var(--heading);
}

.post-details p {
  margin: 4px 0;
  font-size: 14px;
  color: var(--text);
}

.no-posts {
  text-align: center;
  margin-top: 30px;
  font-size: 16px;
  color: var(--muted-text);
}

.create-link {
  color: var(--link);
  text-align: center;
  display: block;
  margin-top: 25px;
  font-weight: bold;
  text-decoration: none;
}
.create-link:hover { text-decoration: underline; }

@media (max-width: 500px) {
  .header-bar {
    flex-direction: column;
    align-items: flex-start;
  }

  .user-info {
    width: 100%;
    flex-direction: column;
    align-items: flex-start;
  }

  .logout-btn,
  .message-btn {
    width: 100%;
  }
}

/* Floating Chat Icon */
#chat-toggle-btn {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 60px;
  height: 60px;
  background-color: #4caf50;
  color: white;
  font-size: 28px;
  border-radius: 50%;
  text-align: center;
  line-height: 60px;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  z-index: 9999;
}

#chatbox-frame {
  position: fixed;
  bottom: 90px;
  right: 20px;
  width: 360px;
  height: 500px;
  border: none;
  border-radius: 10px;
  box-shadow: 0 0 12px rgba(0,0,0,0.3);
  display: none;
  z-index: 9998;
  background: var(--container);
}

/* üì± Mobile-friendly chatbot */
@media (max-width: 500px) {
  #chatbox-frame {
    width: 95%;
    right: 2.5%;
    height: 85vh; /* slightly smaller height */
    bottom: 80px;
  }

  #chat-toggle-btn {
    bottom: 15px;
    right: 15px;
    width: 50px;
    height: 50px;
    font-size: 22px;
    line-height: 50px;
  }
}

.add-to-cart-btn {
  border: none;
  padding: 8px 12px;
  border-radius: 6px;
  font-weight: bold;
  font-size: 14px;
  cursor: pointer;
  color: #fff;
  background-color: #00796b;
  margin-left: 8px;
}
.add-to-cart-btn:disabled {
  opacity: 0.7;
  cursor: not-allowed;
}
  
  </style>
 
</head>
<body>
  <div class="container">
  <div class="header-bar">
  <h2>Go-Grow</h2>
  

  <button id="themeToggle" class="theme-toggle" aria-label="Toggle theme">üåô</button>

  <div class="user-info">
    <div id="headerUsername">Welcome, user</div>
    
    <button class="message-btn" onclick="goToMessages()">Messages</button>
    <button class="message-btn" id="myPostsBtn" onclick="goToMyFeed()">My Posts</button>
    <button class="message-btn" id="insights" onclick="Ins()">Market Insights</button>
    <button class="logout-btn" onclick="logout()">Logout</button>
    
  </div>
</div>



    <input
      type="text"
      id="searchInput"
      placeholder="üîç Search by crop name..."
      oninput="filterPosts()"
    />

    <!-- üîΩ WEATHER BOX (keep this where you want it to appear) -->
<div id="weather-box" class="weather-box">
  <p>Getting weather data...</p>
</div>

<!--  Move recommendation to a new page -->
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        background: #f2f6f4;
    }

    .header {
        background-color: #2E8B57;
        padding: 18px;
        color: white;
        font-size: 22px;
        font-weight: bold;
        text-align: center;
    }

    .content {
        padding: 20px;
    }

    /* Two Button Styles */
    .action-buttons {
        display: flex;
        gap: 15px;
        margin: 22px 0;
    }

    .action-btn {
        flex: 1;
        padding: 14px 18px;
        font-size: 16px;
        font-weight: 600;
        color: #fff;
        text-decoration: none;
        text-align: center;
        border-radius: 10px;
        box-shadow: 0 3px 6px rgba(0,0,0,0.2);
        transition: 0.25s;
    }

    .recommend-btn {
        background-color: #2E8B57;
    }
    .recommend-btn:hover {
        background-color: #57f19c;
    }

    .create-btn {
        background-color: #ffa91e;
    }
    .create-btn:hover {
        background-color: #d3a418;
    }

    #postsContainer {
        margin-top: 20px;
    }
</style>
</head>

<body>



<div class="content">

    <!-- Two Buttons -->
    <div class="action-buttons">

        <a href="crop-recommendation.html" class="action-btn recommend-btn">
            üå± Get Crop Recommendation
        </a>

        <a href="create-post.html" class="action-btn create-btn">
            + Create New Post
        </a>

    </div>

    <!-- Posts Container -->
    <div style="padding-bottom: 140px;">
        <div id="postsContainer"></div>
    </div>

</div>

</body>


    <div class="no-posts" id="noPostsMsg" style="display: none;">No matching posts found.</div>
    
  </div>

  <script>
  const role = localStorage.getItem('role');

  // Redirect admins
  if (role === 'admin') {
    window.location.href = 'admin.html';
  }

  // On load: buyer UI rules + add Cart button for buyers
  window.addEventListener('DOMContentLoaded', () => {
    if (role === 'buyer') {
      // Hide seller-only features
      document.querySelector('.create-link')?.remove();
      document.getElementById('cropFormContainer')?.remove();
      document.querySelector('button[onclick="toggleCropForm()"]')?.remove();
      document.getElementById('myPostsBtn')?.remove();  
      document.getElementById('insights')?.remove();  
      document.querySelector('a.create-link[href="create-post.html"]')?.remove();
      document.querySelector('a[href="crop-recommendation.html"]')?.remove();
      document.querySelector('a[href="create-post.html"]')?.remove();



      // üõí Add Cart button to header (buyers only)
      const userInfo = document.querySelector('.user-info');
      if (userInfo && !document.getElementById('cartBtn')) {
        const cartBtn = document.createElement('button');
        cartBtn.className = 'message-btn';
        cartBtn.id = 'cartBtn';
        cartBtn.onclick = goToCart;
        cartBtn.innerHTML = 'üõí Cart <span id="cartCount" style="background:#fff;color:#00796b;padding:2px 8px;border-radius:12px;margin-left:6px;">0</span>';
        userInfo.appendChild(cartBtn);
        
      }
    }

    // If cart exists, show current count
    updateCartCount?.();
  });
</script>


  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script> 
  <script>
  function startChat(username) {
    if (!username) {
      alert("Username missing.");
      return;
    }
    // Store receiver in query param and redirect
    window.location.href = `chat.html?receiver=${encodeURIComponent(username)}`;
  }
</script>

  <script>
    const socket = io(); // Connect to the backend via Socket.IO
    let allPosts = [];

    // ---------- CART (localStorage) ----------
function getCart() {
  try { return JSON.parse(localStorage.getItem('cart') || '[]'); }
  catch { return []; }
}

function saveCart(cart) {
  localStorage.setItem('cart', JSON.stringify(cart));
  updateCartCount();
}

function updateCartCount() {
  const badge = document.getElementById('cartCount');
  if (!badge) return; // Non-buyers won't have the Cart button
  const cart = getCart();
  badge.textContent = cart.reduce((sum, i) => sum + (i.qty || 1), 0);
}

function addToCartById(postId) {
  if (role !== 'buyer') return alert('Cart is available for buyers only.');
  const post = allPosts.find(p => p._id === postId);
  if (!post) return alert('Post not found');

  const cart = getCart();
  const idx = cart.findIndex(i => i.postId === postId);

  if (idx >= 0) {
    cart[idx].qty = (cart[idx].qty || 1) + 1;
  } else {
    cart.push({
      postId: post._id,
      crop: post.crop,
      price: post.price,
      seller: post.user,
      quantityAvailable: post.quantity,
      image: (post.imageUrls && post.imageUrls[0]) ? `http://localhost:3000${post.imageUrls[0]}` : null,
      qty: 1
    });
  }

  saveCart(cart);

  // Quick visual feedback on the clicked button
  const btn = document.querySelector(`.add-to-cart-btn[data-id="${postId}"]`);
  if (btn) {
    const original = btn.textContent;
    btn.textContent = '‚úì Added';
    btn.disabled = true;
    setTimeout(() => {
      btn.textContent = original;
      btn.disabled = false;
    }, 1200);
  }
}

function goToCart() {
  if (role !== 'buyer') {
    alert('Cart is available for buyers only.');
    return;
  }
  window.location.href = 'cart.html';
}



    // Listen for real-time post creation
socket.on('new-post', (post) => {
  allPosts.unshift(post);
  renderPosts(allPosts);
});

// Listen for real-time post approval updates
socket.on('post-updated', async () => {
  const res = await fetch('/api/posts');
  allPosts = await res.json();
  renderPosts(allPosts);
});


    async function loadPosts() {
      try {
        const res = await fetch('/api/posts');
        allPosts = await res.json();
        renderPosts(allPosts);
      } catch (err) {
        alert('Failed to load posts.');
        console.error(err);
      }
    }

    function renderPosts(posts) {
      const container = document.getElementById('postsContainer');
      const noPostsMsg = document.getElementById('noPostsMsg');
      container.innerHTML = '';

      if (posts.length === 0) {
        noPostsMsg.style.display = 'block';
        return;
      }

      noPostsMsg.style.display = 'none';

        posts.forEach((post) => {
        const div = document.createElement('div');
        div.className = 'post';

        const images = post.imageUrls || [];
        let imageHTML = '';

        if (images.length > 0) {
          const maxVisible = 2;
          const extraCount = images.length - maxVisible;

          imageHTML = `<div class="image-grid">`;

          images.slice(0, maxVisible).forEach((url, index) => {
            const isLastVisible = index === maxVisible - 1 && extraCount > 0;
            imageHTML += `
              <div class="image-wrapper">
                <img src="http://localhost:3000${url}" alt="crop image">
                ${isLastVisible ? `<div class="more-overlay">+${extraCount}</div>` : ''}
              </div>
            `;
          });

          imageHTML += `</div>`;
        }

        const loggedInUsername = localStorage.getItem('username');
        const isOwner = post.user === loggedInUsername;
        

        /*div.innerHTML = `
        
          ${imageHTML}
          <div class="post-details">
            <h3>${post.user}</h3>
            <p><strong>Crop: </strong>${post.crop}</p>
            <p><strong>Quantity: </strong>${post.quantity}</p>
            <p><strong>Price: </strong>${post.price}</p>
            <p><strong>Posted on: </strong>${post.timestamp}</p>
            ${isOwner
              ? `
                <button onclick="event.stopPropagation(); editPost('${post._id}')">‚úèÔ∏è Edit</button>
                <button onclick="event.stopPropagation(); deletePost('${post._id}')">üóëÔ∏è Delete</button>
              `
              : (
  role === 'buyer'
    ? `
      <button onclick="event.stopPropagation(); startChat('${post.user}')">üí¨ Chat</button>
      <button class="add-to-cart-btn" data-id="${post._id}" onclick="event.stopPropagation(); addToCartById('${post._id}')">üõí Add to Cart</button>
    `
    : `
      <button onclick="event.stopPropagation(); startChat('${post.user}')">üí¨ Chat</button>
    `
)

            }
          </div>
        `; */

div.innerHTML = `
<div class="post-card">

  <!-- LEFT SIDE IMAGES -->
  <div class="image-section">
    ${imageHTML}
  </div>

  <!-- CENTER DETAILS -->
  <div class="details-section">

    <h3 class="user-name">${post.user}</h3>

    <p><strong>Crop:</strong> ${post.crop}</p>
    <p><strong>Quantity:</strong> ${post.quantity}</p>
    <p><strong>Price:</strong> ${post.price}</p>

  </div>

  <!-- RIGHT SIDE (DATE + BUTTONS) -->
  <div class="right-section">

    <p class="timestamp">
      <strong>Posted on:<br>
      ${post.timestamp} </strong>
    </p>

    <div class="button-group">
      ${
        isOwner
          ? `
            <button class="btn edit" onclick="event.stopPropagation(); editPost('${post._id}')">‚úèÔ∏è Edit</button>
            <br> </br> 
            <button class="btn delete" onclick="event.stopPropagation(); deletePost('${post._id}')">üóëÔ∏è Delete</button>
          `
          : (
              role === "buyer"
                ? `
                  <button class="btn chat" onclick="event.stopPropagation(); startChat('${post.user}')">üí¨ Chat</button>
                  <br> </br>
                  <button class="btn cart" onclick="event.stopPropagation(); addToCartById('${post._id}')">üõí Add to Cart</button>
                `
                : `
                  <button class="btn chat" onclick="event.stopPropagation(); startChat('${post.user}')">üí¨ Chat</button>
                `
            )
      }
    </div>

  </div>

</div>

<style>
.post-card {
  width: 100%;
  background: white;
  border-radius: 12px;
  padding: 18px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 2px 8px rgba(0,0,0,0.12);
  margin-bottom: 18px;
}

/* Left image section */
.image-section {
  width: 160px;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 6px;
}

/* Center content */
.details-section {
  flex-grow: 1;
  margin-left: 20px;
  colour:black;
  color: #333;
}

.user-name {
  margin: 0;
  font-size: 1.3rem;
  font-weight: 700;
  color: #333;
}

/* Right section */
.right-section {
  text-align: right;
  width: 200px;
}

.timestamp {
  font-size: 0.85rem;
  color: #333;
  margin-bottom: 20px;
}

/* Buttons */
.btn {
  padding: 8px 20px;
  border-radius: 25px;
  border: none;
  font-weight: 600;
  cursor: pointer;
  margin-left: 8px;
}

/* Matching screenshot color styles */
.edit {
  background: #4CAF50;
  color: white;
}
.delete {
  background: #b30000;
  color: white;
}
.chat {
  background: #1976D2;
  color: white;
}
.cart {
  background: orange;
  color: white;
}
.button-delete  {
  display: flex;
  gap: 1.2cm;   /* <-- EXACT spacing between every button */
  align-items: center;
}
  .button-edit  {
  display: flex;
  gap: 1.2cm;   /* <-- EXACT spacing between every button */
  align-items: center;
}

</style>
`;



        container.appendChild(div);
        div.onclick = (event) => {
  // Prevent click if the target is a button
  if (event.target.tagName === 'BUTTON') return;

  window.location.href = `post-view.html?id=${post._id}`;
};

      });

    }
    function editPost(postId) {
      window.location.href = `edit-post.html?id=${postId}`;
    }

    function deletePost(postId) {
      if (confirm("Are you sure you want to delete this post?")) {
        fetch(`/api/posts/${postId}`, {
          method: 'DELETE'
        }).then(() => {
          alert("Post deleted");
          loadPosts(); // reload
        }).catch(err => {
          alert("Failed to delete post");
        });
      }
    }

    
    function filterPosts() {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();
      const filtered = allPosts.filter(post => post.crop.toLowerCase().includes(searchTerm));
      renderPosts(filtered);
    }

    function logout() {
      localStorage.clear();
      sessionStorage.clear();
      window.location.href = 'index.html';
    }

    function goToMessages() {
      window.location.href = 'chat-list.html';
    }

    const username = localStorage.getItem('name') || localStorage.getItem('username');
    if (username) {
      document.getElementById('headerUsername').textContent = `Welcome, ${username}`;
    }

    loadPosts();

    
    // üå¶Ô∏è WEATHER SCRIPT
    const weatherBox = document.getElementById('weather-box');
    const apiKey = 'e8e2f1628840824475b2005d08244c4f'; // ‚úÖ Your actual API key

    if ("geolocation" in navigator) {
      navigator.geolocation.getCurrentPosition(success, error);
    } else {
      weatherBox.innerHTML = `<p>‚ö†Ô∏è Geolocation not supported by browser.</p>`;
    }

    function success(position) {
  const lat = position.coords.latitude;
  const lon = position.coords.longitude;

  fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric`)
    .then(res => res.json())
    .then(data => {
      const html = `
        <h4>üå¶Ô∏è Weather in Your Area</h4>
        <div class="weather-header">
          <div class="weather-temp">${data.main.temp.toFixed(1)} ¬∞C</div>
        </div>
        <div class="weather-stats">
          <div><strong>Humidity:</strong> ${data.main.humidity}%</div>
          <div><strong>Clouds:</strong> ${data.clouds.all}%</div>
          <div><strong>Wind:</strong> ${data.wind.speed} m/s</div>
        </div>
      `;
      weatherBox.innerHTML = html;
    })
    .catch(err => {
      weatherBox.innerHTML = `<p>‚ö†Ô∏è Could not load weather data.</p>`;
      console.error(err);
    });
}


    function error() {
      weatherBox.innerHTML = `<p>‚ö†Ô∏è Location access denied. Weather not available.</p>`;
    }
    // Toggle crop form visibility (only if it exists on this page)
function toggleCropForm() {
  const container = document.getElementById('cropFormContainer');
  if (!container) return;
  container.style.display =
    (container.style.display === 'none' || container.style.display === '') ? 'block' : 'none';
}

// Attach submit handler only if the form exists
const cropFormEl = document.getElementById('cropForm');
if (cropFormEl) {
  cropFormEl.addEventListener('submit', async (e) => {
    e.preventDefault();
    const formData = new FormData(e.target);
    const data = Object.fromEntries(formData.entries());
    for (let k in data) data[k] = parseFloat(data[k]);

    const res = await fetch('/api/crop/recommend', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    });
    const result = await res.json();
    const out = document.getElementById('recommendResult');
    if (out) out.textContent = 'Recommended Crop: ' + (result.recommended_crop ?? '‚Äî');
  });
}

 function goToMyFeed() {
  window.location.href = 'my-post.html';
}
function Ins() {
  window.location.href = 'market-insights.html';
}

  </script>
  <!-- Floating Chat Icon -->
<div id="chat-toggle-btn" onclick="toggleChatbot()">üí¨</div>

<!-- Chatbot Iframe -->
<iframe id="chatbox-frame" src="/chatbot.html"></iframe>

<script>
  function toggleChatbot() {
    const iframe = document.getElementById("chatbox-frame");
    iframe.style.display = iframe.style.display === "none" ? "block" : "none";
  }

  
</script>

<script>
  (function () {
    const themeToggle = document.getElementById('themeToggle');
    if (!themeToggle) return;

    const savedTheme =
      localStorage.getItem('theme') ||
      (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');

    setTheme(savedTheme);

    themeToggle.addEventListener('click', () => {
      const next = document.documentElement.dataset.theme === 'dark' ? 'light' : 'dark';
      setTheme(next);
    });

    function setTheme(theme) {
      document.documentElement.setAttribute('data-theme', theme);
      localStorage.setItem('theme', theme);
      themeToggle.textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
    }
  })();
</script>


</body>
</html>
